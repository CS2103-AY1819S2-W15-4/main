<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Valavan Rajarajan - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Duty Planner</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/CS2103-AY1819S2-W15-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Valavan Rajarajan - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-duty-planner"><a class="link" href="#project-duty-planner">PROJECT: Duty Planner</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Duty Planner is a desktop application used to organise and plan duties for army personnel with various functions for commanders as well as duty personnel. The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has about 10kLoC</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Added Block Date Commands</p>
<div class="ulist">
<ul>
<li>
<p>What it does: Allows the user to block dates of duty for the upcoming month allowing them not to be scheduled for duties on those particular days</p>
</li>
<li>
<p>Justification: This features allows personnel to have some flexibility on the days the do duties and to ensure that they can attend other events or not do duties when they are busy</p>
</li>
<li>
<p>Highlights: This enhancement affected the scheduling algorithm and the algorithm and Duty system had to be modified to allow personnel to block Dates</p>
</li>
<li>
<p>Credits: Thanks to my other group members for helping to figure out the block date command</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: Added a command to view and remove blocked Dates</p>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://nus-cs2103-ay1819s2.github.io/cs2103-dashboard/#search=valatheking&amp;sort=displayName&amp;since=2019-02-10&amp;until=2019-04-03&amp;timeframe=day&amp;reverse=false&amp;repoSort=true">Code</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:<br></p>
<div class="ulist">
<ul>
<li>
<p>Did testing the parsers for the different commands</p>
</li>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed milestones and issue tracker for the project.
***Ensured that the build passed at certain stages and improved coverage during testing.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Edited the person class with NRIC and Rank (Pull requests <a href="https://github.com/CS2103-AY1819S2-W15-4/main/pull/31">#31</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Did cosmetic tweaks to existing contents of the User Guide to modify it to a Duty Planner</p>
</li>
<li>
<p>Updated User and Developer Guide with the new commands that were added in</p>
</li>
<li>
<p>Modified AddressBook Diagrams to suit Personnel Database in Developer Guide</p>
</li>
<li>
<p>Added in Block Dates section in Developer Guide</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples:  <a href="https://github.com/nus-cs2103-AY1819S2/pe-dry-run/issues/830">#1</a>,
<a href="https://github.com/nus-cs2103-AY1819S2/pe-dry-run/issues/609">2</a>, <a href="https://github.com/nus-cs2103-AY1819S2/pe-dry-run/issues/697">3</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Integrated Codacy and Appveyor to the team repo</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>MINDEF Duty Planner is a platform to assist military units in the SAF in the assignment of daily guard duties amongst the servicemen.<br>
The application is optimized for those who prefer to work with a Command Line Interface (CLI) while still having the benefits of a Graphical User Interface (GUI).
The software is designed to automate the process of fairly assigning duties to available servicemen for an entire month.<br>
The application can be used by both Commanders and servicemen to plan and view duties with various specific commands for each type of user.<br>
To start using MINDEF Duty Planner you can go to <a href="#Quick Start">[Quick Start]</a><br>
To see a summary list of commands you can go to <a href="#Command Summary">[Command Summary]</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="notation"><a class="link" href="#notation">Notation</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Words that are highlighted with a grey background
represent a  <code>command</code> that is present or used in the
application.</p>
</li>
<li>
<p>Words that are highlighted in white represent a <kbd>keyboard</kbd> button that
can be pressed to invoke a described function.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="strong-command-format-strong"><a class="link" href="#strong-command-format-strong"><strong>Command Format</strong></a></h4>

</div>
<div class="sect3">
<h4 id="view-all-duties-for-current-month-code-viewcurrent-code"><a class="link" href="#view-all-duties-for-current-month-code-viewcurrent-code">View all duties for current month: <code>viewCurrent</code></a></h4>
<div class="paragraph">
<p>Brings up calendar view, with all duties for the current month.<br>
Format: <code>viewCurrent</code></p>
</div>
</div>
<div class="sect3">
<h4 id="view-all-duties-for-next-month-code-viewnext-code"><a class="link" href="#view-all-duties-for-next-month-code-viewnext-code">View all duties for next month: <code>viewNext</code></a></h4>
<div class="paragraph">
<p>Brings up calendar view, with all duties for the next month.<br>
Format: <code>viewNext</code></p>
</div>
</div>
<div class="sect3">
<h4 id="block-dates-code-block-code-br"><a class="link" href="#block-dates-code-block-code-br">Block dates : <code>block</code><br></a></h4>
<div class="paragraph">
<p>The user can block dates and set which dates they are unavailable to duties for the upcoming month. A user can block up to 15 days.<br>
Format: <code>block DATE DATE DATE &#8230;&#8203;</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The date entered must be a valid number for the upcoming month. For example if the next month is February, block 30 is an invalid input.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This command can only be entered if next month&#8217;s duty schedule has not been confirmed yet.
If it has been confirmed please request a swap on the day you wish to duties.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the user has successfully blocked dates they will not be scheduled for duties on the blocked days in the upcoming month.<br></p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>block 3 6 15 21 30</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="view-blocked-dates-code-viewblock-code-br"><a class="link" href="#view-blocked-dates-code-viewblock-code-br">View blocked dates : <code>viewblock</code><br></a></h4>
<div class="paragraph">
<p>The user can view the dates they have blocked for the upcoming month.<br>
The blocked dates for the upcoming month will then be printed out for the user to see.<br></p>
</div>
<div class="paragraph">
<p>Format: <code>viewblock</code></p>
</div>
</div>
<div class="sect3">
<h4 id="remove-blocked-dates-code-removeblock-code-br"><a class="link" href="#remove-blocked-dates-code-removeblock-code-br">Remove blocked dates : <code>removeblock</code><br></a></h4>
<div class="paragraph">
<p>The user can remove the dates they have blocked for the upcoming month. This will remove all blocked days from the upcoming month.<br></p>
</div>
<div class="paragraph">
<p>Format: <code>removeblock</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A specific date cannot be removed from the list of blocked dates. If a user wishes to remove only a certain day he can removeblock and run the block command again.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="imageblock">
<div class="content">
<img src="../images/SDforDeletePerson.png" alt="SDforDeletePerson" width="800">
</div>
<div class="title">Figure 1. Component interactions for <code>delete 1</code> command</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ModelClassDiagram.png" alt="ModelClassDiagram" width="800">
</div>
<div class="title">Figure 2. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
<div class="sect2">
<h3 id="block-dates-feature"><a class="link" href="#block-dates-feature">Block Dates Feature</a></h3>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h4>
<div class="paragraph">
<p>The block dates feature is facilitated by PersonnelDatabase and was implemented for general users as they cannot be expected to do duties any time during the upcoming month.
They may have certain dates that are busy or do not wish to do duties and as such they can block the dates in the PersonnelDatabase.</p>
</div>
<div class="paragraph">
<p>Block Dates was done by adding 3 new commands to the <code>Logic</code> which are <code>BlockDateCommand</code>, <code>ViewBlockCommand</code>, <code>RemoveBlockCommand</code>.
Modifications and methods were also added in <code>Model</code> and <code>Storage</code> to implement the blocking of dates in Duty planning and storage.</p>
</div>
<div class="paragraph">
<p><code>BlockDateCommand</code> works like other commands in the Duty Planner. The command is read a text string from the MainWindow in UI.
The sequence diagram for the interaction is below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BlockDateStateDiagram.png" alt="BlockDateStateDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>Step 1 :<br>
As seen in the diagram above. The MainWindow calls the execute Command in Logic and passes in the command text, userName and userType of the logged in user.</p>
</div>
<div class="paragraph">
<p>Step 2 :<br>
The LogicManager then passes the command text, userName and userType to PersonnelDatabaseParser and it determines the type of command by parsing the String input.
Using certain command words, the PersonnelDatabase Parser determines what the command is and then passes the parsed commandText, userName and userType to the BlockDateCommandParser.</p>
</div>
<div class="paragraph">
<p>Step 3 :<br>
The BlockDateCommandParser
The BlockDateCommandParser takes in the dates list as a String and parses it into a Integer List which is used in the model.
The BlockDateCommandParser then passes in the Integer List, userType and userName to BlockDateCommand.
It checks for valid Integer inputs for days in the next month and will throw an exception if the dates entered are not valid</p>
</div>
<div class="paragraph">
<p>Step 4 :<br>
The logic for BlockDateCommand follows the activity diagram below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BlockDateActivityDiagram.png" alt="BlockDateActivityDiagram" width="800">
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>The first check is the userType, if you are an Admin you will not be able to access this command</p>
</li>
<li>
<p>The second check is to see the schedule has already been confirmed for nex month. If so the user cannot block any dates for the upcoming month</p>
</li>
<li>
<p>The third check is to see the number of dates blocked and if they are more than 15, an exception will be thrown.
This is to ensure that commander have enough people to schedule duties. You can change this number if you wish to do so by updating the
MAX_BLOCKS_NUMBER in BlockDateCommand</p>
</li>
<li>
<p>If the user passes all check the Command will enter Step 5</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Step 5 :<br>
The BlockDateCommand then passes the Integer List to the model where it is stored in a Hashmap in DutyMonth.
DutyMonth has a Hashmap&lt;Person, List&lt;Integer&gt;&gt; blockedDays object to allow it to store the blockedDays of every person for the upcoming month.</p>
</div>
<div class="paragraph">
<p>Step 6 :<br>
The algorithm for scheduling was then modified to prevent the user from not doing duties on their blockedDays. This was done with the assistance of the HashMap.
During scheduling when a person is assigned to a day the model checks the list of blocked dates. If the person has a blocked day on the assigned duty, they are assigned a new one.
Someone else will then replace them in the previously assigned duty.
A more detailed explanation of the scheduling algorithm is in <a href="#Duty Settings">[Duty Settings]</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="additional-commands"><a class="link" href="#additional-commands">Additional Commands</a></h4>
<div class="paragraph">
<p>Commands <code>viewblock</code> and removeblock` were added for the users convenience. This helps the users to find and modify the Blocked Dates for the upcoming Month.
These two commands access the HashMap in the Model associated with blockedDates and either view or remove the blockedDates for the current user.
The Hashmap uses a Person object as a key. The logged in user&#8217;s NRIC is used to obtain the current User person object and that is used as the key to retrieve the information from the Hashmap.
All this is done through the model with methods such as <code>getBlockedDates</code> and `removeBlockedDays respectively for view and remove.</p>
</div>
<div class="paragraph">
<p>These two commands complete the suite of blocking which allows users to experience more flexibility in their duty planning.
==== Design Considerations:</p>
</div>
<div class="paragraph">
<p>Alternative 1 (current implementation): BlockDateCommand takes in a few dates they are then stored in the personnel database as a Hashmap.<br>
* Pros :
<strong> Easy to implement as a new Command. Parsers have already been set up in address book and adding a new command is relatively easy to implement.
</strong> The command storing the Integer List in the PersonnelDatabase in a HashMap is also convenient for the other commands such as <code>viewblock</code> and `removeblock.
** The Hashmap allows easy referencing for these commands. The Hashmap also allows for easier scheduling when the scheduler is run.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cons :</p>
<div class="ulist">
<ul>
<li>
<p>The BlockDateCommand would directly modify the HashMap in the PersonnelDatabase and this would go against the n-tier architecture of the PersonnelDatabase Program. This would break the abstraction principle.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Implemented Fix for Cons :</p>
<div class="ulist">
<ul>
<li>
<p>To combat the above issue, Model was given methods to add the blockedDates into the Personnel Database rather than the command itself.
This allows the logic to pass the dates to the model which would then integrate it into the Personnel Database.<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternative 2 (current implementation): BlockDateCommand takes in a few dates they are then stored as a new Class called BlockedDates
* Pros :
<strong> Easy to implement as a new Command. Parsers have already been set up in address book and adding a new command is relatively easy to implement.
</strong> Would be clear what the BlockedDate Class does and also if other forms of dates such as AppointmentDates have to be added in later this would help with integrating them.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cons :</p>
<div class="ulist">
<ul>
<li>
<p>The implementation of a BlockedDate Class would complicated the process of integrating into the schedule much harder.
Implementing the BlockedDate into the algorithm would be a lot harder and would take more time and effort</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="use-case-3-admin-see-all-duties-planned-for-current-and-next-month-in-the-calendar"><a class="link" href="#use-case-3-admin-see-all-duties-planned-for-current-and-next-month-in-the-calendar">Use case 3 (Admin): See all duties planned for current and next month in the calendar</a></h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Admin requests to see duties planned for this month by entering viewCurrent.</p>
</li>
<li>
<p>Calendar UI shows the current month&#8217;s duties.</p>
</li>
<li>
<p>Admin requests to see duties planned for the next month by entering viewNext.</p>
</li>
<li>
<p>Calendar UI shows the next month&#8217;s duties.<br>
Use case ends.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<h3 id="use-case-4-admin-see-duties-assigned-to-specific-user" class="discrete">Use case 4 (Admin): See duties assigned to specific user</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Admin requests to see the duties assigned to a specific person for the next month.</p>
</li>
<li>
<p>MainWindow UI shows the user the person duties for the nextMonth.<br>
Use case ends.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="use-case-11-general-user-block-some-dates-for-duties-next-month"><a class="link" href="#use-case-11-general-user-block-some-dates-for-duties-next-month">Use case 11 (General user): Block some dates for duties next month</a></h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to block certain dates in the upcoming month of duties.</p>
</li>
<li>
<p>PersonnelDatabase takes in the given dates and shows a success message.</p>
</li>
<li>
<p>User will then not be scheduled for duties in the upcoming month when schedule is run.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<h3 id="use-case-14-general-user-remove-my-own-blocked-dates" class="discrete">Use case 14 (General user): remove my own blocked dates</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to see the blocked dates in the upcoming month.</p>
</li>
<li>
<p>PersonnelDatabase shows the use the blocked days he had entered previously.</p>
</li>
<li>
<p>User requests to remove the blocked dates in the upcoming month.</p>
</li>
<li>
<p>PersonnelDatabase deletes all blocked dates for the user.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="blockdatecommand-tests"><a class="link" href="#blockdatecommand-tests">BlockDateCommand Tests</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Prerequisites: You need to be logged in as a general user before you can block dates. If there are no personnel Database you can add some by loggin in as an Admin first</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case : block 1 5 6
Expected : The person has succesfully blocked days in the upcoming month and when schedule is run he will not be assigned duties on those days.</p>
</li>
<li>
<p>Test case : block -1
Expected : CommandException will be thrown to show invalid date. No dates will be blocked.</p>
</li>
<li>
<p>Test case : block 33
Expected : CommandException will be thrown to show invalid date. No dates will be blocked.</p>
</li>
<li>
<p>Test case : block 6 (Logged in as an Admin)
Expected : CommandException will be thrown to show invalid authority. No dates will be blocked.</p>
</li>
<li>
<p>Test case : block 6 (Schedule already confirmed)
Expected : CommandException will be thrown to show confirmed schedule. No dates will be blocked.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-04-15 15:42:43 UTC</div></div></div></body></html>