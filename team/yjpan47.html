<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Pan Yongjing - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Duty Planner</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/CS2103-AY1819S2-W15-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Pan Yongjing - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-addressbook-level-4"><a class="link" href="#project-addressbook-level-4">PROJECT: AddressBook - Level 4</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>MINDEF Duty Planner is a desktop application used to help military units in the Singapore Armed Forces organise and plan monthly duties for their servicemen. It has various features and functions for administrator (i.e. commander) as well as the duty personnel (i.e. servicemen). The user interacts with the application using a Command Line Interface (CLI) with a Graphic User Interface (GUI) created with JavaFX. It is written in Java, and has about 10kLoC.</p>
</div>
<div class="paragraph">
<p>The Duty Planner is modified and upgraded from SE-EDU Address Book 4.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Creation of the duty package module</p>
<div class="ulist">
<ul>
<li>
<p>What it does: The duty package consists of classes (i.e. Duty, DutyMonth, DutySettings, DutyStorage) responsible for setting up the duties of a month and assigning them to persons, as well as contains vital functions needed for the duty features to be implemented.</p>
<div class="ulist">
<ul>
<li>
<p><code>Duty</code> : A class that characterizes the attributes of a duty including the exact date, points awarded, manpower needed and a list of person eventually being assigned to that duty.</p>
</li>
<li>
<p><code>DutyMonth</code> : Represents a month in the calendar and is the main driver class behind the scheduling of duties. It instantiates all duties and assigns each duty to persons. Stores vital information such as the list of scheduled duties and the blocked dates of each person.</p>
</li>
<li>
<p><code>DutySettings</code> : Contains information about the manpower needed and points assigned to duties based the day of the week. Enable modification to the the manpower needed and points assigned to each duty based on the day of the week.</p>
</li>
<li>
<p><code>DutyStorage</code> : Accumulates and stores the duty points and duty records of all the persons.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Justification: The duty package provides the backend support for all duty-related features and commands.</p>
</li>
<li>
<p>Highlights: The package contain functions assessed by many commands (i.e. BlockDateCommmand, ViewCommand, ScheduleCommand, DutySettingCommand).</p>
</li>
<li>
<p>Credits: {Fellow teammate Yoon Ki Hyun for working together on the DutyMonth and Duty}</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Major enhancement</strong>: Schedule and confirm command</p>
<div class="ulist">
<ul>
<li>
<p>What it does: The schedule command that invokes the schedule algorithm to generate a viable duty allocation for the upcoming month. The confirm command finalizes the schedule and updates the existing duty points of each person.</p>
</li>
<li>
<p>Justification: Enable duties to be scheduled to persons.</p>
</li>
<li>
<p>Highlight: Need to ensure that the command references the correct dutyMonth and duty points of each person do not get updated until confirm command is called.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Major enhancement</strong>: Settings command</p>
<div class="ulist">
<ul>
<li>
<p>What it does: Enable the administrator to adjust the desired manpower for duties based on the day of the week. Eanble the administrator to adjust the points to be awarded for doing duties based on the daty of the week.</p>
</li>
<li>
<p>Justification: Allows the user to have flexibility to change the duty allocation system.</p>
</li>
<li>
<p>Highlight: Need to ensure that the scheduling algorithm is compatible with adjustable duty points and duty capacities.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: DateUtil common</p>
<div class="ulist">
<ul>
<li>
<p>What it does: A class that contains static methods to assist in validation of date parameters and other date related functions.</p>
</li>
<li>
<p>Justification: Contains commonly used functionalities that aids the developers and prevent duplicate code.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/duty/Duty.java" class="bare">https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/duty/Duty.java</a></p>
</li>
<li>
<p><a href="https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/duty/DutyMonth.java" class="bare">https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/duty/DutyMonth.java</a></p>
</li>
<li>
<p><a href="https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/duty/DutySettings.java" class="bare">https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/duty/DutySettings.java</a></p>
</li>
<li>
<p><a href="https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/duty/DutyStorage.java" class="bare">https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/duty/DutyStorage.java</a></p>
</li>
<li>
<p><a href="https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/DutyCalendar.java" class="bare">https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/DutyCalendar.java</a></p>
</li>
<li>
<p><a href="https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/commons/util/DateUtil.java" class="bare">https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/commons/util/DateUtil.java</a></p>
</li>
<li>
<p><a href="https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/logic/commands/ScheduleCommand.java" class="bare">https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/logic/commands/ScheduleCommand.java</a></p>
</li>
<li>
<p><a href="https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/logic/commands/ConfirmScheduleCommand.java" class="bare">https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/logic/commands/ConfirmScheduleCommand.java</a></p>
</li>
<li>
<p><a href="https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/logic/commands/DutySettingsCommand.java" class="bare">https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/logic/commands/DutySettingsCommand.java</a></p>
</li>
<li>
<p><a href="https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/logic/parser/DutySettingsCommandParser.java" class="bare">https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/logic/parser/DutySettingsCommandParser.java</a></p>
</li>
<li>
<p><a href="https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/UserPrefs.java" class="bare">https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/UserPrefs.java</a></p>
</li>
<li>
<p><a href="https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/PersonnelDatabase.java" class="bare">https://github.com/yjpan47/main/blob/master/src/main/java/seedu/address/model/PersonnelDatabase.java</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed releases <code>v1.1</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Major updates to the User Guide:<br>
<a href="https://github.com/yjpan47/main/blob/master/docs/UserGuide.adoc" class="bare">https://github.com/yjpan47/main/blob/master/docs/UserGuide.adoc</a></p>
</li>
<li>
<p>Updated developer guide to include explanation of the schedule algorithm:<br>
<a href="https://github.com/yjpan47/main/blob/master/docs/DeveloperGuide.adoc" class="bare">https://github.com/yjpan47/main/blob/master/docs/DeveloperGuide.adoc</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="view-duty-points-code-points-code"><a class="link" href="#view-duty-points-code-points-code">View duty points : <code>points</code></a></h4>
<div class="paragraph">
<p>Displays the duty points accumulated by each person. Additional records of each person (i.e. duties allocated, points rewarded, points penalized) can also be viewed.</p>
</div>
<div class="paragraph">
<p>Format:  <code>points [INDEX]</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Calling the command without index (<code>points</code>) provides a list of all persons and their accumulated duty points while calling the command with index (<code>points INDEX</code>) provides the accumulated duty points of an individual person and his record (i.e. duties, points rewarded, points penalized).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>points 2</code><br>
Retrieves the duty points of the 2nd person on the contact list, as well as his records with information such as duties allocated, points rewards and points penalized.</p>
</li>
<li>
<p><code>points</code><br>
Displays a list of all persons and their respective duty points.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="reward-points-code-reward-code"><a class="link" href="#reward-points-code-reward-code">Reward points : <code>reward</code></a></h4>
<div class="paragraph">
<p>Manually reward duty points to a person or a list of persons.</p>
</div>
<div class="paragraph">
<p>Format: <code>reward i/INDEX [INDEX] [INDEX] &#8230;&#8203; p/POINTS</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Points rewarded can range from 1 to 100 for each command call.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reward i/1 2 4 5 p/20</code><br>
Rewards 20 points each to the 1st, 2nd, 4th and 5th person on the contact list.</p>
</li>
<li>
<p><code>reward i/3 p/4</code><br>
Rewards 4 points to the 3th person on the contact list.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="penalize-points-code-penalize-code"><a class="link" href="#penalize-points-code-penalize-code">Penalize points : <code>penalize</code></a></h4>
<div class="paragraph">
<p>Manually penalize duty points for a person or a list of persons.</p>
</div>
<div class="paragraph">
<p>Format: <code>penalize i/INDEX [INDEX] [INDEX] &#8230;&#8203; p/POINTS</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Points penalized can range from 1 to 100 for each command call.</p>
</li>
<li>
<p>The duty points of a person can fall to less than zero.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>penalize i/1 2 4 5 p/20</code><br>
Penalize 20 points each for the 1st, 2nd, 4th and 5th person on the contact list.</p>
</li>
<li>
<p><code>penalize i/3 p/4</code><br>
Penalize 4 points for the 3th person on the contact list.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="view-and-edit-duty-settings-points-and-manpower-needed-for-each-day-of-the-week-code-settings-code"><a class="link" href="#view-and-edit-duty-settings-points-and-manpower-needed-for-each-day-of-the-week-code-settings-code">View and edit duty settings (points and manpower needed for each day of the week) : <code>settings</code></a></h4>
<div class="paragraph">
<p>View and edit duty settings. Duty settings refer to the <strong>manpower needed</strong> and <strong>points rewarded</strong> for each duty based on the day of the week (e.g. Sunday, Monday, etc)</p>
</div>
<div class="paragraph">
<p>Format: <code>settings [d/DAYOFWEEK m/MANPOWER p/POINTS]</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>DAYOFWEEK</code>: Mon / Tue / Wed / Thur / Fri / Sat / Sun (full spelling e.g. Monday, Tuesday etc. works as well)<br></p>
</li>
<li>
<p><code>MANPOWER</code>: Number ranging from 1 to 10<br></p>
</li>
<li>
<p><code>POINTS</code>: Number ranging from 1 to 100</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Calling the command <code>settings</code> alone displays the current duty settings while calling the command <code>settings</code> with the day of the week, manpower and points enables the editing of the duty settings.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The updated duty settings will only take effect the next time a schedule is confirmed. If schedule for next month has already been confirmed, the confirmed schedule will still follow the specifications of the previous duty settings.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>settings</code><br>
Displays the duty settings - for each day of the week, the manpower needed and points to be rewarded.</p>
</li>
<li>
<p><code>settings d/sun m/3 p/4</code><br>
Duty settings edited. Sunday duties now require 3 persons and 4 points will be rewarded to each person assigned a Sunday duty.</p>
</li>
<li>
<p><code>settings d/monday m/2 p/3</code><br>
Duty settings edited. Monday duties now require 2 persons and 3 points will be rewarded to each person assigned a Monday duty.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="schedule-duties-code-schedule-code"><a class="link" href="#schedule-duties-code-schedule-code">Schedule duties : <code>schedule</code></a></h4>
<div class="paragraph">
<p>Creates a viable duty schedule for the upcoming month. The scheduling algorithm takes into account the manpower needs of each duty day, blocked dates of each person, the current duty points of each person and points rewarded for each duty to generate a fair schedule.</p>
</div>
<div class="paragraph">
<p>Format: <code>schedule</code></p>
</div>
<div class="paragraph">
<p>The algorithm is optimized such that a person with low duty points will be allocated to duties which rewards high points and possibly be given more duties. It automatically attempts to balance out the points of each person after scheduling.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The command <code>schedule</code> merely provides a viable duty schedule and <strong>does not confirm the schedule</strong> to the calendar. Duty points have also yet been updated. The schedule generated is not deterministic and calling <code>schedule</code> again will regenerate a new duty schedule.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once a satisfactory duty schedule is generated, the administrator can go ahead to confirm the duty schedule. (See 4.4.10 Confirm a schedule)</p>
</div>
<div class="paragraph">
<p>Calling <code>schedule</code> after next month&#8217;s duties have already been confirm will only display the confirmed duty schedule.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="duty-package"><a class="link" href="#duty-package">Duty Package</a></h3>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="imageblock">
<div class="content">
<img src="../images/DutyPackage.png" alt="width:&quot;600&quot;">
</div>
</div>
<div class="paragraph">
<p>The diagram above shows the high-level structure of the duty components.
==== Duty Month</p>
</div>
<div class="paragraph">
<p><code>DutyMonth</code> class represents all duty-related information for a particular month. It contains the following key information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The blocked days of every person for duties in the month.</p>
</li>
<li>
<p>A list of scheduled duties implemented as a <code>Duty</code> object list</p>
<div class="ulist">
<ul>
<li>
<p>At the construction of the <code>DutyMonth</code>, the list is empty.</p>
</li>
<li>
<p>When the <code>schedule</code> method is called, <code>Duty</code> objects are be instantiated and appended to the list. The list will contain the same number of <code>Duty</code> objects as the number of days in the month.</p>
</li>
</ul>
</div>
</li>
<li>
<p>A boolean <code>confirm</code> state&#8201;&#8212;&#8201;denoting whether the duty allocation for the month is confimed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>DutyMonth</code> class contains the following key operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>DutyMonth#addBlockedDay(person, day)</code>&#8201;&#8212;&#8201;adds a blocked day to a particular person, indicating that the person cannot be assigned duty on that particular day of the month.</p>
</li>
<li>
<p><code>DutyMonth#removeBlockedDays(person)</code>&#8201;&#8212;&#8201;remove all blocked days for a particular person, indicating that the person can now be assigned duty on any day of the month.</p>
</li>
<li>
<p><code>DutyMonth#schedule(personList, dutySettings, dutyStorage)</code>&#8201;&#8212;&#8201;invokes the scheduling alogorithm. Generate all duties for the particular month and assign person from personList to the duties.</p>
</li>
<li>
<p><code>DutyMonth#confirm()</code>&#8201;&#8212;&#8201;sets the state of the <code>DutyMonth</code> to confirmed. Duty allocation is finalized.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="duty"><a class="link" href="#duty">Duty</a></h4>
<div class="paragraph">
<p><code>Duty</code> class represents a duty for a day. It contains the following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List of <code>Person</code> allocated to the duty.</p>
</li>
<li>
<p>Capacity&#8201;&#8212;&#8201;number of persons needed for the duty.</p>
</li>
<li>
<p>Points&#8201;&#8212;&#8201;number of  points to be rewarded to each person assigned to the duty.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="duty-storage"><a class="link" href="#duty-storage">Duty Storage</a></h4>
<div class="paragraph">
<p><code>DutyMonth</code> class stores the accumulated duty points and duty records of every person. It has the following key operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>DutyStorage#update(dutieslist)</code>&#8201;&#8212;&#8201;updates the duty points and records from a list of scheduled duties. Used when schedules are confirmed and finalized.</p>
</li>
<li>
<p><code>DutyStorage#undo(dutieslist)</code>&#8201;&#8212;&#8201;restore to previous state of duty points and records. Used when previous confirmed duty schedule has to be undone.</p>
</li>
<li>
<p><code>DutyStorage#reward(person, point)</code>&#8201;&#8212;&#8201;adds duty points to a particular person.</p>
</li>
<li>
<p><code>DutyStorage#penalize(person, point)</code>&#8201;&#8212;&#8201;deducts duty points from a particular person.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="duty-settings"><a class="link" href="#duty-settings">Duty Settings</a></h4>
<div class="paragraph">
<p><code>DutySettings</code> class is an attribute under <code>UserPrefs</code>. It stores information regarding the manpower needed and duty points to be rewarded for each duty based on the day of the week.</p>
</div>
<div class="paragraph">
<p>It is accessed when duties are generated to ensure the appropriate attributes (capacity and points) given to each duty.</p>
</div>
</div>
<div class="sect3">
<h4 id="schedule-command"><a class="link" href="#schedule-command">Schedule Command</a></h4>
<div class="paragraph">
<p>The <code>schedule</code> command is called by the admin to generate a viable duty schedule for the upcoming month.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ScheduleCommand.png" alt="ScheduleCommand" width="1000">
</div>
</div>
<div class="paragraph">
<p>The sequence diagram above shows how the <code>schedule</code> operation works.</p>
</div>
<div class="paragraph">
<p>It is worth noting that <code>schedule</code> operation does not finalize the duty schedule for next month. Therefore, <code>dutyCalendar</code> has to instantiates a new  <code>dummyNextMonth</code> for the operation.</p>
</div>
<div class="paragraph">
<p>Subsequent calling of the <code>confirm</code> operation will allow the <code>nextMonth</code> object to point to the latest <code>dummyNextMonth</code>, and invoke <code>dutyStorage</code> to update duty points and records.</p>
</div>
</div>
<div class="sect3">
<h4 id="schedule-algorithm"><a class="link" href="#schedule-algorithm">Schedule Algorithm</a></h4>
<div class="imageblock">
<div class="content">
<img src="../images/ScheduleAlgorithm.jpg" alt="ScheduleAlgorithm" width="600">
</div>
</div>
<div class="paragraph">
<p>The sequence diagram above provides a simplified illustration of the <code>schedule</code> method in <code>DutyMonth</code>.</p>
</div>
<div class="paragraph">
<p>To ensure a system where duties are allocated fairly,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>We employ a point system where each person can gain points by doing duties.</p>
</li>
<li>
<p>The points awarded are cumulative&#8201;&#8212;&#8201;can be carried over to the next month. Duty points accumulated are stored in <code>DutyStorage</code>.</p>
</li>
<li>
<p>Each duty is worth a certain number of points and a person gains that amount of points by doing that duty. The points allocated to each duty is retrieved from <code>DutySettings</code>.</p>
</li>
<li>
<p>Before the <code>schedule</code> command is called, each person has the opportunity to indicate the days he are unavailable for duty.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Approach</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Generate a list of <code>Duty</code> objects sorted by their points in descending order.</p>
</li>
<li>
<p>Generate a priority queue of all <code>Person</code> objects, queued based on their accumulated duty points with the lowest at the head of the queue.</p>
</li>
<li>
<p>Iterate through the list of <code>Duty</code> objects. At each iteration,</p>
<div class="ulist">
<ul>
<li>
<p>Poll the priority queue of <code>Person</code> continuously until an instance of a compatible duty-person pairing.</p>
</li>
<li>
<p>A compatible pairing consists of conditions such as the <code>Person</code> not having blocked the day of the <code>Duty</code> and the <code>Duty</code> does not already contain the <code>Person</code>.</p>
</li>
<li>
<p>Iteration continues after the <code>Duty</code> is filled or priority queue of <code>Person</code> becomes empty (cannot find compatible <code>Person</code>).</p>
</li>
</ul>
</div>
</li>
<li>
<p>The algorithm ensures that a person with low accumulated duty points will be assigned to duties that rewards higher points and assigned to more duties. This allows the scheduler to automatically balance the duty points of each person by the end of the month.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-storage-of-duty-issues"><a class="link" href="#aspect-storage-of-duty-issues">Aspect: storage of Duty issues</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> <code>Duty</code> class also plays the role of <code>DutyDate</code> class</p>
<div class="ulist">
<ul>
<li>
<p>Pros: one less layer for simplicity</p>
</li>
<li>
<p>Cons: less flexible for extension of the project, hard to ensure that each <code>DutyMonth</code> contains the correct number of <code>Duty</code> objects</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> create a separate <code>DutyDate</code> class that contains <code>Duty</code> as an attribute</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy indexing and reference for UI and other purposes</p>
</li>
<li>
<p>Cons: <code>DutyDate</code> class does not have other roles, can be redundant</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-storing-duty-points-of-each-person"><a class="link" href="#aspect-storing-duty-points-of-each-person">Aspect: Storing duty points of each person</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Stored in external <code>DutyStorage</code> object with HashMap attribute.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Reduce number of  dependencies&#8201;&#8212;&#8201;<code>Person</code> class is completely freed from any duty information. Duty package operates independently.</p>
</li>
<li>
<p>Cons: A lot of inefficiencies when querying duty points.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Enable <code>Person</code> class to contain duty related information. For example, adding a duty point attribute to <code>Person</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Simple and efficient indexing and referencing.</p>
</li>
<li>
<p>Cons: Increase level of dependencies. Could potentially result in circular dependencies between <code>Duty</code> and <code>Person</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-powerpointlabs"><a class="link" href="#project-powerpointlabs">PROJECT: PowerPointLabs</a></h2>
<div class="sectionbody">
<hr>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-04-15 15:20:58 UTC</div></div></div></body></html>